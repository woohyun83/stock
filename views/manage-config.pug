extends layout

block css
  link(rel="stylesheet", href="/static/css/my-files.css")

block content
  div(class="py-3 container-fluid")
    div(style="display: none", id="dropzone-preview-template")
      div(class="dz-preview dz-file-preview", id="dz-preview-template", style="border: none; padding: 6px 0px 0px 5px")
        div(class="dz-details row")
          div(class="dz-filename col-7")
            span(data-dz-name)
          div(class="dz-size", data-dz-size style="flex: 0 0 23.33333%;max-width: 23.33333%;")
          div(class="col-1", style="text-align:center;")
            a(class="dz-remove", style="cursor:pointer;color:red", data-dz-remove) clear
    div(class="modal ", id="file-upload", tabindex="-1", role="dialog", aria-labelledby="vital-upload", aria-hidden="true")
      div(class="modal-dialog", role="document", style="max-width: 700px; overflow-y: initial !important")
        div(class="modal-content")
          div(class="modal-header")
            h5(class="modal-title") Manage Vital Recorder
            button(type="button", class="close", data-dismiss="modal", aria-label="Close")
              span(aria-hidden="true") &times;
          div(class="modal-body", style="display: flex")
            form(enctype="multipart/form-data", id="vu-form", method="post", style="text-align: center;")
              input(type="file", id="file", name="file")
          div(class="modal-footer")
            button(type="button", class="btn btn-primary btn-submit", id="uploadvrsubmit", style="float:right;") Upload
    form(novalidate="", action="/", id="config-form", method="post")
      div(class="form-group")
        label(for="websocketIp") Websocket IP
        input(name="websocketIp", required="", type="text", class="form-control", value=config.websocket_ip, id="websocketIp")
      div(class="form-group")
        label(for="websocketPort") Websocket Port
        input(name="websocketPort", required="", type="text", class="form-control", value=config.websocket_port, id="websocketPort")
      div(class="form-group")
        label(for="filterUrl") Filter Url
        input(name="filterUrl", required="", type="text", class="form-control", value=config.filter_url, id="filterUrl")
      div(class="form-group")
        label(for="vitalRecorder") Vital Recorder : #{config.vr_version} &nbsp;
        button(type="button", class="btn btn-primary", onclick="$('#file-upload').modal('show');", id="vitalRecorder") Manage Vital Recorder
    button(type="submit", class="btn btn-primary", id="configsubmit") Submit

block js
  script.
    var websocket_host = "#{websocket_host}";
    var path_given = "#{path}";
  script(src='/socket.io/socket.io.js')
  script(src='/static/js/socket.io-stream.js')
  script(src='/static/js/connect.js')
  script(src='/static/js/browser_check.js')

block footer
  footer(class="mt-3 py-3")
    div(class="container-fluid")
      p(class="mb-0") Copyright Â© 2016-2021 Hyunmnb. Department of Anesthesiology and Pain Medicine, Seoul National University College of Medicine, Seoul, Korea.
